---
displayed_sidebar: nodejsSidebar
sidebar_position: 1
title: ساختار کلی node.js
---

### nodejs چی هست ؟
node یک محیط runtime برای اجرای جاوااسکریپت خارج از مرورگر هست و نه زبان و نه فریم ورکه.

**حالا runtime چیه ؟** تمام مرورگرها برای اجرای جاواسکرپت موتور خودشون را دارند مثلا v8 ,spiderMonkeyv که برا پارس کردن زبان هستش ولی ران تایم یک مرحله بالاتر هستش و یه و محیطی برای اجرای برنامه است که داخلش تخصیص منابع کار با سیستم عامل و کار با نتورک هستش.

و نود از موتور v8 و شامل کتابخونه های زیره :

- V8 برای تبدیل کد جاوا اسکریپت به ماشین
- libuv یه کتابخونه برای asyc I/O ->
- llhttp برای پارس کردن http
- c-ares
- OpenSSL برای رمزنگاری و هشینگ
- zlib برای فشرده سازی

javascript زبانی هست که به single thread اجرا میشه. توی زبان های دیگه مثل php به ازای هر کاربر ما یک thread داریم ولی اینجا کلا یک thread. این توی مصرف منابع خیلی کمک مون میکنه ولی باید حواسمون باشه همون یه thread رو با blocking resource ها سرش رو شلوغ نکنیم.

event loop برای مدیریت صف داخل همون تک thread عزیزمون هست که حواسش باشه چی رو اجرا کنه.



### event loop چیه ؟

ایونت لوپ برای هماهنگ کردن صف هست و زمانی اپ مون استارت میشه شروع به کار میکنه



#### event loop رو بلاک نکنید

- از متدهای **sync** در fs و ماژول های دیگه استفاده نکنید

- محاسبات سنگین و لوپ ها تو در تو سنگین انجام ندید

- رجکس های سنگین استفاده نکنید

- مراقب جی سان در ابجکت های بزرگ باشید



### thread چیه ؟

نیاز به تکمیل دارد...

### thread pool چیه ؟

تسک های سنگین رو event loop به thread pool منتقل میکنه مثل dns, hash کردن

نیاز به تکمیل دارد...



### منظور از event , eventDriven چیه ؟

توی جاوااسکریپت یک سری متد هستن که بهشون میگن event emitter که یک event رو emit میکنن. و یک ایونت لیستنر دارند مثلا تایمر تموم شدن یا خوندن فایل تموم شد. که این event هارو ما برنامه نویس  ها با callback های که مینویسیم، تعریف میکنیم.

این دقیقا الگوی طراحی observable هست.

توی نود با ماژول events میشه ایونت تعریف کرد...

نیاز به تکمیل دارد....



## Streams چیه ؟

استریم یعنی به جای پردازش کلی دیتا اون جز به جز پردازش میکنیم.

یه کاری با دیتا میکنیم، و مموری رو آزاد میکنیم. مثل کاری که یوتیوب میکنه برای نمایش ویدیو میکنه.

توی نود ۴ نوع استریم داریم :

- **readable stream**
- **writable stream**
- **duplex stream**
- **transform stream**

 